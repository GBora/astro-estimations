<div class="col-lg-12">
  <div class="col-lg-4 m-t-50">
    <form (ngSubmit)="postEstimation()"
          #estimationForm="ngForm"
          [hidden]="submitted">
        <div class="form-group">
              <input type="text"
                      required
                      class="form-control"
                      placeholder="Title of estimation"
                      name="title"
                      id="title"
                      [(ngModel)]="request.title">
        </div>
        <div class="form-group">
          <textarea class="form-control"
                    required
                    placeholder="Details of estimation"
                    rows="10"
                    cols="10"
                    name="details"
                    [(ngModel)]="request.description"></textarea>
        </div>
        <div class="form-group">
          <select class="form-control"
                  name="method"
                  required
                  [(ngModel)]="request.method">
            <option value="single">Simple estimation</option>
            <option value="min-max">Min-max estimation</option>
          </select>
        </div>
        <div class="form-group">
          <span class="input-group-btn">
            <button type="submit" [disabled]="!estimationForm.form.valid" class="btn btn-primary btn-block">Generate</button>
          </span>
        </div>
    </form>
    <div [hidden]="!submitted">
      <button class="btn btn-block btn-primary" (click)="addNewEstimation()">New Estimation</button>
    </div>
  </div>
  <div class="col-lg-8 m-t-50">
    <h4 *ngIf="generatedEstimations.length">Recent estimations asked for</h4>
    <div class="container">
          <div *ngFor="let generated of generatedEstimations" class="m-t-50 row card-deck">
              <div class="card">
                <div class="card-block">
                  <h4 class="card-title">{{ generated.title }}</h4>
                  <p class="card-text" id="add-{{ generated.request_id }}"> Estimate the <span>{{ generated.title }}</span> at
                    <a href="{{ baseURL }}/add-estimation/{{ generated.request_id }}">{{ baseURL }}/add-estimation/{{ generated.request_id }}</a>.
                  </p>
                </div>
                <div class="card-footer">
                    <button class="btn btn-primary" (click)="copyToClipboard('add-' + generated.request_id)">
                      Copy to clipboard
                    </button>
                </div>
              </div>
              <div class="card">
                <div class="card-block">
                  <h4 class="card-title">{{ generated.title }}</h4>
                  <p class="card-text" id="see-{{ generated.request_id }}"> 
                    See how much the <span>{{ generated.title }}</span> was estimated for at
                    <a href="{{ baseURL }}/get-estimation/{{ generated.request_id }}">{{ baseURL }}/get-estimation/{{ generated.request_id }}</a>.
                  </p>
                </div>
                <div class="card-footer">
                    <button class="btn btn-primary" (click)="copyToClipboard('see-' + generated.request_id)">
                      Copy to clipboard
                    </button>
                </div>
              </div>
          </div>
    </div>
  </div>
</div>
