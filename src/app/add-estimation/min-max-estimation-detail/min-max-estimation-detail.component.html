<div class="card">
  <div class="card-block" (click)="switchDetails()">
    <h4 class="card-title">
      {{ estimation.title }} ({{ estimation.min_hours }} h - {{ estimation.max_hours }} h )
        <i *ngIf="!showDetails" class="fa fa-plus f-r pointer" aria-hidden="true"></i>
        <i *ngIf="showDetails" class="fa fa-minus f-r pointer" aria-hidden="true"></i>
      </h4>
  </div>
  <div class="card-block" *ngIf="showDetails && estimation.subtasks.length">
      <p>Subtasks:</p>
      <ul class="list-group">
        <li *ngFor="let subtask of estimation.subtasks" class="list-group-item">
            {{ subtask.title }} ({{ subtask.min }} h - {{ subtask.max }} h)
        </li>
      </ul>
  </div>
  <div class="card-block" *ngIf="showDetails">
      <app-min-max-subtask-form *ngIf="addingSubtask" [subtask]="newSubTask" (onSubmit)="insertNewSubTask()"></app-min-max-subtask-form>
  </div>
  <div class="card-block" *ngIf="showDetails">
      <button class="btn btn-block btn-primary"
              [disabled]="addingSubtask"
              (click)="addSubtask()">Add Subtask</button>
  </div>
    <div class="card-block" *ngIf="showDetails && estimation.potttential_subtasks.length">
        <p>Pottential subtasks:</p>
        <ul class="list-group">
        <li *ngFor="let subtask of estimation.potttential_subtasks" class="list-group-item">
            {{ subtask.title }} ({{ subtask.min }} h - {{ subtask.max }} h)
        </li>
        </ul>
    </div>
    <div class="card-block" *ngIf="showDetails">
        <app-min-max-subtask-form *ngIf="addingPossible" [subtask]="newPossible" (onSubmit)="insertNewPossible()"></app-min-max-subtask-form>
    </div>
    <div class="card-block" *ngIf="showDetails">
        <button class="btn btn-block btn-primary"
                [disabled]="addingPossible"
                (click)="addPossible()">Add Pottential Subtask</button>
    </div>
  <div class="card-block" *ngIf="showDetails && estimation.questions.length">
      <p>Questions:</p>
      <ul class="list-group">
        <li *ngFor="let question of estimation.questions" class="list-group-item">
            {{ question }}
        </li>
      </ul>
  </div>
  <div class="card-block" *ngIf="showDetails">
      <app-min-max-question-form *ngIf="addingQuestion" [question]="newQuestion" (onSubmit)="insertNewQuestion($event)"></app-min-max-question-form>
  </div>
  <div class="card-block" *ngIf="showDetails">
      <button class="btn btn-block btn-primary"
              [disabled]="addingQuestion"
              (click)="addQuestion()">Add Question</button>
  </div>
</div>